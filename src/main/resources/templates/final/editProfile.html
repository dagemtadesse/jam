<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/profile.css}">
    <link rel="stylesheet" th:href="@{/css/search.css}">
    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <title>Edit Profile</title>
</head>

<body>
    <div th:replace="./fragments/loggedInComponents :: headerWithOutBookMark"></div>

    <main>
        <div class="container d-flex">

            <div th:replace="./fragments/components :: navigation"></div>

            <div class="information">

                <div class="info-container p-4">
                    <div class="prof-info mb-2">
                        <p>Edit Profile</p>
                    </div>
                    <div class="info-box">
                        <form th:action="@{/editProfile}" method="post" th:object="${profileForm}" class="info-box">
                            <div class="info-content">
                                <label for="fullName">Full Name</label>

                                <input type="text" th:class="|form-control ${#fields.hasErrors('fullName')? 'is-invalid': 'is-valid'}|"
                                       th:field="*{fullName}"
                                       placeholder="enter your fullName">
                                <div
                                        th:if="${#fields.hasErrors('fullName')}"
                                        th:errors="*{fullName}"
                                        class="invalid-feedback">
                                </div>
                            </div>

                            <div class="info-content">
                                <label for="email">Email</label>
                                <input type="email" th:field="*{email}"
                                       th:class="|form-control ${#fields.hasErrors('email')? 'is-invalid': 'is-valid'}|"
                                       placeholder="enter your email"
                                       >

                                <div
                                        th:if="${#fields.hasErrors('email')}"
                                        th:errors="*{email}"
                                        class="invalid-feedback">
                                </div>
                            </div>

                            <div class="info-content">
                                <label for="address">Address</label>
                                <input type="text" th:field="*{address}"
                                       th:class="|form-control ${#fields.hasErrors('address')? 'is-invalid': 'is-valid'}|" placeholder="enter your address">
                                <div
                                        th:if="${#fields.hasErrors('address')}"
                                        th:errors="*{address}"
                                        class="invalid-feedback"
                                >
                                </div>

                            </div>

                            <button class="save-btn btn" type="submit">Save</button>
                        </form>
                    </div>

                    <div class="prof-info prof-info-1 mt-4">
                        <p>Change Password</p>
                    </div>
                    <div class="info-box info-box-1">
                        <form th:action="@{/changePassword}" method="post" class="info-box" th:object="${changePasswordForm}">
                            <div class="info-content">
                                <label for="oldPassword">Old Password</label>
                                <input type="text" th:field="*{oldPassword}"
                                       th:class="|form-control ${#fields.hasErrors('oldPassword')? 'is-invalid': 'is-valid'}|"
                                       class="form-control" placeholder="enter old password">
                                <div
                                        th:if="${#fields.hasErrors('oldPassword')}"
                                        class="invalid-feedback"
                                        th:errors="*{oldPassword}">
                                </div>
                            </div>
                            <div class="info-content">
                                <label for="newPassword">New Password</label>
                                <input type="password" th:field="*{newPassword}"
                                       th:class="|form-control ${#fields.hasErrors('newPassword')? 'is-invalid': 'is-valid'}|" placeholder="enter new password">
                                <div
                                        th:if="${#fields.hasErrors('newPassword')}"
                                        th:errors="*{newPassword}"
                                        class="invalid-feedback">
                                </div>
                            </div>
                            <div class="info-content">
                                <label for="cNewPassword">Confirm Password</label>
                                <input type="password" th:field="*{cNewPassword}"
                                       th:class="|form-control ${#fields.hasErrors('cNewPassword')? 'is-invalid': 'is-valid'}|" placeholder="confirm your password">
                                <div
                                        th:if="${#fields.hasErrors('cNewPassword')}"
                                        th:errors="*{cNewPassword}"
                                        class="invalid-feedback"
                                >
                                </div>
                            </div>
                            <button class="save-btn btn" type="submit" >Change </button>
                        </form>
                    </div>

                </div>

            </div>
        </div>
    </main>

    <div th:insert="/fragments/components :: footer"></div>

    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>

</html>